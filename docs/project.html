<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>STAT/COMP 212 - Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STAT/COMP 212</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-activities" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Activities</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-activities">    
        <li>
    <a class="dropdown-item" href="./01-introductions.html" rel="" target="">
 <span class="dropdown-text">Welcome to the course!</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02-adv-ggplot.html" rel="" target="">
 <span class="dropdown-text">Advanced Data Visualization in ggplot2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03-file-org-github.html" rel="" target="">
 <span class="dropdown-text">File organization, GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04-adv-maps.html" rel="" target="">
 <span class="dropdown-text">Advanced spatial visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./05-interactive-viz.html" rel="" target="">
 <span class="dropdown-text">Interactive visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./06-wrangling-1.html" rel="" target="">
 <span class="dropdown-text">Data wrangling - Part 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./07-wrangling-2.html" rel="" target="">
 <span class="dropdown-text">Data wrangling - Part 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./08-missing-data.html" rel="" target="">
 <span class="dropdown-text">Missing data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./09-functions.html" rel="" target="">
 <span class="dropdown-text">Functions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-homework" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Homework</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-homework">    
        <li>
    <a class="dropdown-item" href="./homework1.html" rel="" target="">
 <span class="dropdown-text">Homework 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./homework2.html" rel="" target="">
 <span class="dropdown-text">Homework 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./homework3.html" rel="" target="">
 <span class="dropdown-text">Homework 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./homework4.html" rel="" target="">
 <span class="dropdown-text">Homework 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./homework5.html" rel="" target="">
 <span class="dropdown-text">Homework 5</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-skills-sessions" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Skills Sessions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-skills-sessions">    
        <li>
    <a class="dropdown-item" href="./skills_session1.html" rel="" target="">
 <span class="dropdown-text">Skills Session 1</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="./project.html" rel="" target="" aria-current="page">
 <span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tech_setup.html" rel="" target="">
 <span class="menu-text">Tech Setup</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#goal" id="toc-goal" class="nav-link active" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#project-requirements" id="toc-project-requirements" class="nav-link" data-scroll-target="#project-requirements">Project requirements</a></li>
  <li><a href="#rubric" id="toc-rubric" class="nav-link" data-scroll-target="#rubric">Rubric</a>
  <ul class="collapse">
  <li><a href="#category-thoughtful-engagement-with-data-context" id="toc-category-thoughtful-engagement-with-data-context" class="nav-link" data-scroll-target="#category-thoughtful-engagement-with-data-context">Category: Thoughtful engagement with data context</a></li>
  <li><a href="#category-effective-data-storytelling" id="toc-category-effective-data-storytelling" class="nav-link" data-scroll-target="#category-effective-data-storytelling">Category: Effective data storytelling</a></li>
  <li><a href="#category-code-quality-and-documentation" id="toc-category-code-quality-and-documentation" class="nav-link" data-scroll-target="#category-code-quality-and-documentation">Category: Code quality and documentation</a></li>
  <li><a href="#category-file-organization-and-version-control" id="toc-category-file-organization-and-version-control" class="nav-link" data-scroll-target="#category-file-organization-and-version-control">Category: File organization and version control</a></li>
  </ul></li>
  <li><a href="#project-milestones" id="toc-project-milestones" class="nav-link" data-scroll-target="#project-milestones">Project milestones</a>
  <ul class="collapse">
  <li><a href="#milestone-1" id="toc-milestone-1" class="nav-link" data-scroll-target="#milestone-1">Milestone 1</a></li>
  <li><a href="#milestone-2" id="toc-milestone-2" class="nav-link" data-scroll-target="#milestone-2">Milestone 2</a></li>
  <li><a href="#milestone-3" id="toc-milestone-3" class="nav-link" data-scroll-target="#milestone-3">Milestone 3</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="goal" class="level1">
<h1>Goal</h1>
<p>The goal of the project is to <strong>build something awesome</strong> that you are proud to showcase on your personal website.</p>
<p><br><br></p>
</section>
<section id="project-requirements" class="level1">
<h1>Project requirements</h1>
<p><strong>Team size:</strong> You will be working on this project over the course of the semester in teams of 2 or 3. <strong>Individual teams are not allowed because one goal of the project is to practice collaboration via GitHub.</strong></p>
<p><strong>Aligning with other classes:</strong> You may choose a project topic that is the same or similar to a topic that you’re exploring in another course. This is encouraged! Combining multiple course perspectives can significantly increase the quality of your work.</p>
<p><strong>Data sources:</strong></p>
<ul>
<li>You are required to use at least 2 different data sources for this project.</li>
<li>I <em>encourage</em> (but am not requiring) you to use one of the new data acquisition tools covered in our course (APIs, web scraping, SQL) for one of these data sources.</li>
</ul>
<p><strong>Deliverables:</strong> You will create a digital artifact that can be hosted on your personal website or linked to from your personal website. Options include:</p>
<ul>
<li>Blog post (single <code>.qmd</code> file)</li>
<li>Standalone Shiny app (e.g., dashboard style with an <code>app.R</code> file)</li>
<li>Blog post with Shiny features. This is like a blog post where you scroll through text and plots, but with this format, the plots can be interactive (mini Shiny apps). (In RStudio, when you choose File &gt; New File &gt; Quarto Document, you can choose the “Interactive” option to generate this format.)</li>
</ul>
<p><br><br></p>
</section>
<section id="rubric" class="level1">
<h1>Rubric</h1>
<p>For each category, there will be a grade of <strong>Excellent</strong>, <strong>Passing</strong>, or <strong>Needs Improvement</strong>.</p>
<section id="category-thoughtful-engagement-with-data-context" class="level2">
<h2 class="anchored" data-anchor-id="category-thoughtful-engagement-with-data-context">Category: Thoughtful engagement with data context</h2>
<p>Overview of this category:</p>
<ul>
<li>Careful consideration of the who, what, when, where, why, and how of your datasets and how that affects results and interpretation</li>
<li>Careful consideration of how the data context relates to ethical considerations of how you investigate your data and how your results should be used/interpreted. It will help to think about the following:
<ul>
<li>Who is affected by the project’s data acquisition and results?</li>
<li>What (mis)interpretations or actions might result from the conduct of your investigations or your conclusions?</li>
<li>How might negative consequences be mitigated?</li>
</ul></li>
</ul>
<p><strong>Excellent</strong> work will:</p>
<ul>
<li>Thoughtfully consider the items above by drawing on team members’ lived experiences AND perspectives from at least 2 other sources (e.g., news articles, research articles, blog posts, press releases, documentation from organizations affiliated with your data). These sources should be referenced in your final digital artifact.</li>
</ul>
<p><strong>Passing</strong> work will:</p>
<ul>
<li>Thoughtfully consider the items above by drawing on team members’ lived experiences</li>
</ul>
<p><strong>Needs Improvement</strong> work will:</p>
<ul>
<li>Attempt to consider the items above but need more thought</li>
</ul>
</section>
<section id="category-effective-data-storytelling" class="level2">
<h2 class="anchored" data-anchor-id="category-effective-data-storytelling">Category: Effective data storytelling</h2>
<p>The final digital artifact should:</p>
<ul>
<li>Motivate the importance of the topic</li>
<li>Lead the reader through the rationale for the narrowing/focusing of the scope via the main 2-3 broad questions</li>
<li>Tie results (plots and modeling output) to the broad questions and explain how all results fit together</li>
<li>End with main takeaways, limitations, and future directions</li>
<li>Use clear and concise communication throughout</li>
</ul>
<p><strong>Excellent</strong> work will:</p>
<ul>
<li>Meet <strong>all</strong> above the above quality expectations</li>
</ul>
<p><strong>Passing</strong> work will:</p>
<ul>
<li>Meet <strong>most</strong> above the above quality expectations</li>
</ul>
<p><strong>Needs Improvement</strong> work will:</p>
<ul>
<li>Meet <strong>some</strong> above the above quality expectations</li>
</ul>
</section>
<section id="category-code-quality-and-documentation" class="level2">
<h2 class="anchored" data-anchor-id="category-code-quality-and-documentation">Category: Code quality and documentation</h2>
<p>Overview of this category:</p>
<ul>
<li>Code duplication is minimal to nonexistent with the use of <strong>functions</strong> and <strong>loops</strong></li>
<li>Use comments appropriately to document what is happening in different parts of code</li>
<li>Text space before and after code chunks is used for longer form (paragraph) documentation</li>
</ul>
<p><strong>Excellent</strong> work will:</p>
<ul>
<li>Use functions <strong>in all instances</strong> where code would have been copied and pasted twice</li>
<li>Use functions and loops <strong>in all instances</strong> where code would have been copied and pasted 3 or more times</li>
<li>Consistently use (but not overuse) comments within R code to document code in a way that allows your future selves to remember what was going on. (Not every line of code needs to have a comment, but groups of lines that achieve a particular goal should have a comment.)</li>
<li>The text space before and after code chunks explains what is happening in each code chunk (e.g., why particular wrangling steps were performed, the motivation for fitting certain models, why different modeling outputs were extracted).</li>
</ul>
<p><strong>Passing</strong> work will:</p>
<ul>
<li><strong>Often</strong> use functions and loops to reduce code duplication but have a <strong>small number of missed opportunities</strong></li>
<li><strong>Often</strong> use code comments and text space before and after code chunks for documentation but have a <strong>small number of missed opportunities</strong></li>
</ul>
<p><strong>Needs Improvement</strong> work will:</p>
<ul>
<li><strong>Sometimes</strong> use functions and loops to reduce code duplication but have <strong>several missed opportunities</strong></li>
<li><strong>Sometimes</strong> use code comments and text space before and after code chunks for documentation but have <strong>several missed opportunities</strong></li>
</ul>
</section>
<section id="category-file-organization-and-version-control" class="level2">
<h2 class="anchored" data-anchor-id="category-file-organization-and-version-control">Category: File organization and version control</h2>
<p>Overview of this category:</p>
<ul>
<li>Separate files for cleaning, plotting, and modeling</li>
<li>Clean datasets are saved at the end of code files devoted to cleaning and loaded in at the start of code files devoted to plotting and modeling</li>
<li>As seen through GitHub commits and file diffs, each team member should contribute roughly equally to the codebase. Note that contributions include both writing new lines of code AND modifying/deleting code (e.g., perhaps to reduce code duplication).
<ul>
<li>Note: I am not going to count the number of lines added/modified by each team member. Rather, I will look at the GitHub commits and file diffs holistically.</li>
</ul></li>
</ul>
<p><strong>Excellent</strong> work will:</p>
<ul>
<li>Meet <strong>all</strong> above the above quality expectations</li>
</ul>
<p><strong>Passing</strong> work will:</p>
<ul>
<li><strong>Generally meet</strong> the above quality expectations but will require more separation of tasks across files or more use of saving clean datasets</li>
</ul>
<p><strong>Needs Improvement</strong> work will:</p>
<ul>
<li><strong>Sometimes meet</strong> the above quality expectations but will require more separation of tasks across files, more use of saving clean datasets, and more even contributions from team members to the codebase</li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="project-milestones" class="level1">
<h1>Project milestones</h1>
<section id="milestone-1" class="level2">
<h2 class="anchored" data-anchor-id="milestone-1">Milestone 1</h2>
<p>Due date: Monday, February 12</p>
<p><strong>Purpose:</strong> The goal of Milestone 1 is to get the project moving early on in the semester to have time to make the final product as high quality as possible. You will form teams, lay the vision for your project, and make progress on that vision with one dataset.</p>
<p><strong>Task (requirements for passing this Milestone):</strong></p>
<p>Put the following information in a PDF, and submit on <a href="https://moodle.macalester.edu/mod/assign/view.php?id=85482">Moodle</a>. (Only one team member per group needs to submit.)</p>
<ol type="1">
<li>Write down names of all team members</li>
<li>Briefly describe your topic/scope in a phrase/sentence.</li>
<li>Describe 2-3 broad questions that you wish to explore within this topic. (Not all of them might be able to be investigated with the data source you find for this Milestone—that’s fine.)</li>
<li>Find one data source, and read that data into R.</li>
<li>Thoroughly describe the data context (who, what, when, where, why, and how? questions related to the dataset).</li>
<li>Write up a data codebook. That is, describe the type and meaning of the variables in your dataset. Group your variables into categories (e.g., demographic variables, neighborhood variables).
<ul>
<li>If you have a lot of variables, it may not be necessary/feasible to describe every variable individually. Rather, you can describe groups of similar variables.</li>
</ul></li>
<li>Based on the data context write-up and your codebook, describe which of your 2-3 broad questions can be addressed with your dataset and how.
<ul>
<li>Write a plan for addressing these questions. Make sure that the steps in this plan are reasonable to complete in 2 weeks for Milestone 2. You will receive feedback on this plan and will be expected to integrate this feedback for Milestone 2.</li>
</ul></li>
</ol>
</section>
<section id="milestone-2" class="level2">
<h2 class="anchored" data-anchor-id="milestone-2">Milestone 2</h2>
<p>Due date: Monday, February 26</p>
<p><strong>Purpose:</strong> The goal of Milestone 2 is to make progress on the goals you set out earlier and get tailored feedback on next steps to make the final product as high quality as possible.</p>
<p><strong>Task (requirements for passing this Milestone):</strong></p>
<ol type="1">
<li><p>Create a team GitHub repository with a folder structure as follows:</p>
<ul>
<li><code>your_github_project_folder</code>
<ul>
<li><code>code</code></li>
<li><code>data</code></li>
<li><code>results</code></li>
</ul></li>
</ul></li>
<li><p>Create a <code>.gitignore</code> file.</p>
<ul>
<li><strong>What is this?</strong> <code>.gitignore</code> is a special file that tells Git what files and folders to ignore in version control.</li>
<li>Steps to create this file:
<ol type="1">
<li><p>Open the Terminal in RStudio. Enter the command <code>pwd</code>. Make sure that a path to your project folder is displayed. If not, use the command <code>cd RELATIVE/PATH/TO/YOUR/PROJECT/FOLDER</code> to <strong>c</strong>hange the <strong>d</strong>irectory to your project folder. The part that comes after <code>cd</code> is a relative path from your current location to your project folder. If you need to use <code>cd</code>, use <code>pwd</code> again afterward to confirm that you are in your project folder.</p></li>
<li><p>Enter the command <code>touch .gitignore</code>.</p></li>
<li><p>Enter the command <code>ls -a</code>. You should see all files in this directory (including hidden files that start with <code>.</code>). You should see the <code>.gitignore</code> file.</p></li>
<li><p>Enter the command <code>open .gitignore</code>. Note that you can use <strong>tab completion</strong> in the Terminal for typing shortcuts. After you type <code>open .giti</code> hit Tab to auto-complete the rest of the <code>.gitignore</code> file name. This will open the <code>.gitignore</code> file in RStudio or your computer’s plain text editor.</p></li>
<li><p>Add the following lines to your <code>.gitignore</code> file, and save the file.</p>
<pre><code>data/
.DS_Store (a hidden Mac file)
.Rhistory
.Rproj.user
*.Rproj
.quarto/</code></pre></li>
</ol></li>
<li>Add, commit, and push your <code>code/</code> folder and the <code>.gitignore</code> file. Unless you change your <code>.gitignore</code> later, this is the only time you will need to add, commit, and push your <code>.gitignore</code> file.</li>
</ul></li>
<li><p>Add the instructor as a collaborator to your project GitHub repository. (GH username: <code>lmyint</code>)</p></li>
<li><p>Add a code chunk to the end of all of your <code>.Rmd</code>/<code>.qmd</code> documents with <code>sessionInfo()</code></p>
<ul>
<li>When rendering your markdown file to HTML, this adds information about all packages used in the file as well as their package versions. As packages get updated over time, old code may break, so it is good to know what version of a package was used to complete your work so that you can restore that particular package version.</li>
</ul></li>
<li><p>Complete the steps in your plan from Milestone 1 (the plan with feedback from the instructional team)</p></li>
<li><p>Write a plan for further pursuing your 2-3 broad questions. Make sure that the steps in this plan are reasonable to complete in 2 weeks for Milestone 3. You will receive feedback on this plan and will be expected to integrate this feedback for Milestone 3. Questions to think about as you develop this plan:</p>
<ul>
<li>Do your 2-3 original broad questions need to be revised?</li>
<li>Is it time to start looking for additional datasets?</li>
</ul></li>
</ol>
</section>
<section id="milestone-3" class="level2">
<h2 class="anchored" data-anchor-id="milestone-3">Milestone 3</h2>
<p>Due date: Friday, March 8 (day before Spring Break)</p>
<p><strong>Purpose:</strong> The goal of Milestone 3 is to make progress on the goals you set out earlier and get tailored feedback on next steps to make the final product as high quality as possible.</p>
<p><strong>Task (requirements for passing this Milestone):</strong></p>
<ol type="1">
<li>Complete the steps in your plan from Milestone 2 (the plan with feedback from the instructional team)</li>
<li>Write a short blog post (no more than 1000 words) about your results so far. Use a <code>.qmd</code> to generate an HTML file for this post. In this post, you should:
<ul>
<li>Motivate the importance of the topic</li>
<li>Lead the reader through the rationale for the narrowing/focusing of the scope via the main 2-3 broad questions</li>
<li>Tie results (plots and modeling output) to the broad questions and explain how all results fit together</li>
<li>End with main takeaways, limitations with regard to the data context and ethical considerations, and future directions</li>
</ul></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Leslie Myint, 2024<br> All content licensed under <img src="https://static.thenounproject.com/png/70967-200.png" height="20"> (<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>)</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Site built with <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>